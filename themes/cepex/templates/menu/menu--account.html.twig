{#
/**
 * @file
 * Default theme implementation to display a menu.
 *
 * Available variables:
 * - menu_name: The machine name of the menu.
 * - items: A nested list of menu items. Each menu item contains:
 *   - attributes: HTML attributes for the menu item.
 *   - below: The menu item child items.
 *   - title: The menu link title.
 *   - url: The menu link URL, instance of \Drupal\Core\Url
 *   - localized_options: Menu link localized options.
 *   - is_expanded: TRUE if the link has visible children within the current
 *     menu tree.
 *   - is_collapsed: TRUE if the link has children within the current menu tree
 *     that are not currently visible.
 *   - in_active_trail: TRUE if the link is in the active trail.
 *
 * @ingroup themeable
 */
#}

{# Conteneur principal pour les liens de connexion #}
<div class="box-connecter-header box-connecter-header-mobile">
  {# Importation du macro pour l'utiliser dans ce fichier #}
  {% import _self as menus %}
  
  {# Rendu du(s) lien(s) contact avec la structure souhaitée #}
  {{ menus.menu_links(items, attributes, 0) }}
</div>

{# 
  Définition du macro menu_links pour rendre récursivement les éléments du menu.
  Utilisation du paramètre 'menu_level' pour suivre le niveau de profondeur dans l'arborescence.
#}
{% macro menu_links(items, attributes, menu_level) %}
  {# Vérification si des éléments de menu existent #}
  {% if items %}
    {# Boucle sur chaque élément de menu #}
    {% for item in items %}
      {# Lien avec les attributs et les classes appropriées #}
      <a href="{{ item.url }}"{{ item.attributes.addClass('link-connect-header') }}>
        {# Icône utilisateur #}
        <i class="fa-regular fa-user"></i>
        {# Titre du lien #}
        {{ item.title }}
      </a>
    {% endfor %}
  {% endif %}
{% endmacro %}
